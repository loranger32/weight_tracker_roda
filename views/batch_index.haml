- @page_title = "Batches list"

%h2.mt-40.w-200.center-block.center-text.p-20.bg-gold.white.fs-1-5 Batches

%a.block.mt-30.w-100.center-block.btn.bg-primary.white.fw-500#new-batch-btn{href: "#"} New

%form.mt-30.w-300.center-block.invisible#new-batch-form{action: "/batches", method: :post, role: "forme"}
  != csrf_tag("/batches")
  .flex.justify-between.items-center
    %input.lh-2.pl-5#name{type: :text, name: "name", value: "", placeholder: "Batch Name", autofocus: true, size: "20", maxlength: "40"}
    %input.lh-1-5.btn.btn-sm.bg-primary.white#create-batch-button{type: :submit, value: "Create"}


%a{href: "/entries"}
  .mt-50.mb-30.btn.w-150.center-block.bg-primary.white
    %h3 Current batch
    %p= @current_batch ? @current_batch.name : "No Active batch"
  
- if @batches.empty?
  %p.center-text No batch created yet
- else
  %table.w-400.center-block.center-text
    %thead.lh-2
      %td.fw-600 NAME
      %td.fw-600 FIRST
      %td.fw-600 LAST
      %td.fw-600 ACTIVE
      %td.fw-600 ENTRIES
    %tbody
      - @batches.each do |batch|
        %tr.lh-1-5
          %td
            %a{href: "/batches/#{batch.id}/edit"}= batch.name || "/"
          %td= batch.first_date
          %td= batch.last_date
          %td= batch.active
          %td= batch.entries.length

- content_for :js, assets([:js, :batch_index])
